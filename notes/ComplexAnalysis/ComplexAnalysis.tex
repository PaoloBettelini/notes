\documentclass{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{parskip}
\usepackage{fullpage}
\usepackage{hyperref}
\usepackage{wrapfig}
\usepackage{pgfplots}

\hypersetup{
    colorlinks=true,
    linkcolor=black,
    urlcolor=blue,
    pdftitle={ComplexAnalysis},
    pdfpagemode=FullScreen,
}

\makeatletter 
\tikzset{ 
reuse path/.code={\pgfsyssoftpath@setcurrentpath{#1}} 
} 
\tikzset{even odd clip/.code={\pgfseteorule}, 
protect/.code={ 
\clip[overlay,even odd clip,reuse path=#1] 
(current bounding box.south west) rectangle (current bounding box.north east)
; 
}} 
\makeatother

\usetikzlibrary{3d,arrows.meta,decorations.markings,perspective}
\tikzset{->-/.style={decoration={% https://tex.stackexchange.com/a/39282/194703
  markings,
  mark=at position #1 with {\arrow{>}}},postaction={decorate}},
  ->-/.default=0.55}

\title{Complex Analysis}
\author{Paolo Bettelini}
\date{}

\begin{document}

\maketitle
\tableofcontents
\pagebreak

\section{De Moivre's Theorem}

Using the property of exponentiation \(\left(a^b\right)^c = a^{bc}\),
we can see that \(\left(e^{i\theta}\right)^n = e^{in\theta}\).
\\
Using Euler's formula we can deduce that

\[
    \left(\cos(\theta) + i\sin(\theta)\right)^n = \cos(n\theta) + i\sin(n\theta),
    \quad n \in \mathbb{Z}
\]

\section{Nth Roots of Units}

We can extend De Moivre's Theorem for the integers powers or any complex number,
rather than the ones on the unit circle \((r=1)\).

\[
    \left(r\left(\cos(\theta) + i\sin(\theta)\right)\right)^n = 
    r^n\left(\cos(n\theta) + i\sin(n\theta)\right), \quad n \in \mathbb{Z}
\]

The nth roots of \(1\) are the solutions to

\[
    x^n=1
\]

for a given \(n\). We might write \(1\) as a complex number

\[
    x^n = \cos(0) + i\sin(0)
\]

Comparing this to our extended De Moivre's theorem

\[
    \cos(0) + i\sin(0) = r^n\left(\cos(n\theta) + i\sin(n\theta)\right)
\]

We can see that

\begin{align*}
    r^n&=1 \\
    n\theta&=0
\end{align*}

As long as \(n \neq 0\)

\begin{align*}
    r&=1 \\
    \theta&=0
\end{align*}

By plugging these values into

\[
    x^n = \left(r\left(\cos(\theta) + i\sin(\theta)\right)\right)^n
\]

we get that \(x=1\).

However we could also write \(1\) as

\[
    \cos(2k\pi) + i\sin(2k\pi), \quad k\in \mathbb{Z}
\]

We would then get that

\begin{align*}
    r^n&=1 \\
    n\theta&=2k\pi
\end{align*}

When solving for \(x\) again we get

\begin{align*}
    x^n &= \left(r\left(\cos(\theta) + i\sin(\theta)\right)\right)^n
    \\
    &= \left(\cos\left(\frac{2k\pi}{n}\right) + i\sin\left(\frac{2k\pi}{n}\right)\right)^n
\end{align*}

concluding that

\[
    x = \cos\left(\frac{2k\pi}{n}\right) + i\sin\left(\frac{2k\pi}{n}\right)
\]

This gives us a solution for each \(k\), however the solutions are redundant for \(k \geq n\).
In fact, the roots of unity of \(n\) are \(n\) distinct solutions (points on the unit circle).

\def\n{7}
\begin{wrapfigure}[4]{l}{4.5cm} % 4 is the number of wrapfigure lines
\begin{tikzpicture}[
        dot/.style={draw,fill,circle,inner sep=1pt}
    ]
    \draw[->] (-2,0) -- (2,0) node[below] {\(\Re\)};
    \draw[->] (0,-2) -- (0,2) node[left] {\(\Im\)};
    \draw[help lines] (0,0) circle (1);
    
    \foreach \i in {1,...,\n} {
        \node[dot,label={\i*360/\n-(\i==\n)*45:\(\zeta_\n^{\i}\)}] (w\i) at (\i*360/\n:1) {};
        \draw[->] (0,0) -- (w\i);
    }
    \draw[->] (0:.3) arc (0:360/\n:.3);
    \node at (360/\n/2:.5) {\(\alpha\)};
\end{tikzpicture}
\end{wrapfigure}

\phantom{ }\\
    
The roots of units have the same angle \(\alpha = \frac{2\pi}{n}\) between eachother.
\\
The first root of unit counter-clockwise is denoted \(\zeta_n\) because each subsequent
root is a power of \(\zeta_n\). In this case, \(\zeta_\n\).

\pagebreak

\section{Riemann Spheres}

A Riemann sphere is a unit sphere used to represent the complex plane
using stereographic projection.

\pgfmathsetmacro{\myaz}{15}
\begin{tikzpicture}[
        declare function={%
            stereox(\x,\y)=2*\x/(1+\x*\x+\y*\y);
            stereoy(\x,\y)=2*(\y+1)/(1+\x*\x+(\y+1)*(\y+1)) + 1;
            stereoz(\x,\y)=(-1+\x*\x+\y*\y)/(1+\x*\x+\y*\y);
            Px=1.75;
            Py=-1.5;
            Qx=-1.0;
            Qy=-1.0;
            amax=2.5;
        },
        scale=2.5,
        line join=round,line cap=round,
        dot/.style={circle,fill,inner sep=1pt},>={Stealth[length=1.2ex]}]
    \pgfdeclarelayer{background}
    \pgfdeclarelayer{foreground} 
    \pgfsetlayers{background,main,foreground}
    \path[save path=\pathSphere,ball color=gray,fill opacity=0.6] 
        (0, 1, 0) circle[radius=1];
    \begin{scope}[3d view={\myaz}{15}]
        \draw (-amax,amax) -- (-amax,-amax) coordinate (bl) -- (amax,-amax) 
            coordinate (br)-- (amax,amax);
        \begin{scope}
            \tikzset{protect=\pathSphere}
            \draw (-amax,amax) -- (amax,amax);
        \end{scope}
        \begin{scope}
            \clip[reuse path=\pathSphere];
            \draw[dashed] (-amax,amax) -- (amax,amax);
        \end{scope}
        \begin{scope}[canvas is xy plane at z=0]
            \path[save path=\pathPlane] (\myaz:amax) -- (\myaz+180:amax) --(bl) -- (br) -- cycle;
            \begin{pgfonlayer}{background}
                \fill[blue!30,fill opacity=0.6]
                    (\myaz:1) arc[start angle=\myaz,end angle=\myaz-180,radius=1]
                    -- (-amax,0) -- (-amax,amax) -- (amax,amax) -- (amax,0) -- cycle;
            \end{pgfonlayer}
            \fill[blue!30,fill opacity=0.6]
                (\myaz:1) arc[start angle=\myaz,end angle=\myaz-180,radius=1]
                -- (-amax,0) -- (-amax,-amax) -- (amax,-amax) -- (amax,0) -- cycle;
        \end{scope}

        %\draw[-] (0,-2,0) node[dot,label=below:{$z$}](z){}
        %    -- node[auto,pos=0.5]{\(p\)} (0, -1, 1)
        %    node[dot,label=below right:{\(s\)}](z*){};

        \draw[-] (-2,0,0) node[dot,label=below:{$z$}](z){}
            -- node[auto,pos=0.5]{} (-1, 0, 1)
            node[dot,label=below right:{\(s\)}](z*){};
  
        \begin{pgfonlayer}{background} 
            \draw[dashed] (z*) -- (0,0,2) node[dot,label=above:{$\zeta$}](zeta){};
        \end{pgfonlayer}
    \end{scope}
\end{tikzpicture}

The Riemann sphere lays on the complex plane. A complex number
is represented by the intersection between the sphere
and a ray starting from the topmost point of the sphere
and intersecting with the given complex number on the complex plane.

\section{Subsets of the complex plane}

\subsection{Open Disk}

An open disk \(D_\delta(z_0)\) is the set of points
with distance less than \(\delta\) from \(z_0\)
\[
    D_\delta(z_0)=\{z\in \mathbb{C} \,|\, |z-z_0|<\delta\}
\]

\subsection{Closed Disk}

A closed open disk \(D_\delta(z_0)\) is the set of points
with distance less than or equal to \(\delta\) from \(z_0\)
\[
    \overline{D_\delta(z_0)}=\{z\in \mathbb{C} \,|\, |z-z_0|\leq\delta\}
\]

\subsection{Disk}

A circle \(C_\delta(z_0)\) is the set of points
with distance equal to \(\delta\) from \(z_0\)
\[
    C_\delta(z_0)=\{z\in \mathbb{C} \,|\, |z-z_0|=\delta\}
\]

\subsection{Interior point}

\(z\) is an interior point of \(\Omega\) iff there is an open disk
at \(z\) whose point are in \(\Omega\)
\[
    \exists D_{r>0}(z) \subset \Omega
\]

\subsection{Boundary point}

\(z\) is a boundary point of \(\Omega\) iff every open disk at \(z\)
contains points both in \(\Omega\) and not in \(\Omega\).

\subsection{Exterior point}

\(z\) is an exterior point of \(\Omega\) iff it is not a boundary
point of an interior point.

\subsection{Accumulation points}

\(z\) is an accumulation point or limit point of \(\Omega\) if any
\(D_\delta(z)\backslash \{z\}\) contains points of \(\Omega\).

\subsection{Open sets}

A set \(\Omega\) is called open iff all points in \(\Omega\)
are interior points of \(\Omega\).

\subsection{Closed sets}

A set \(\Omega\) is closed if every accumulation point of \(\Omega\)
are in \(\Omega\). 

% 1 2 3 5 6

\end{document}