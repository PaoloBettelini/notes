\documentclass{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{parskip}
\usepackage{fullpage}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{makecell}
\usepackage{adjustbox}

\usetikzlibrary{ % tikz packages
	cd % tikz-cd communitative diagrams
}

\hypersetup{
    colorlinks=true,
    linkcolor=black,
    urlcolor=blue,
    pdftitle={CategoryTheory},
    pdfpagemode=FullScreen,
}

\newcommand{\opp}[1]{{#1}^{\text{op}}}

\title{Category Theory}
\author{Paolo Bettelini}
\date{}

\begin{document}

\maketitle
\tableofcontents
\pagebreak

% after abstraction we notice that everything is the same. Every theory is the same thing.

\section{Category}

A category consists of \textit{objects} and \textit{morphism} or \textit{arrows}.
\\
An arrow has a beginning and an ending, and it goes from one object to another.
\\
Objects serve the purpose of marking the beginning and ending of a morphism.

\[
    \begin{tikzcd}
        a \arrow[r, bend left] \arrow[r, bend left=49, shift left] \arrow[loop, distance=2em, in=215, out=145] & b \arrow[loop, distance=2em, in=35, out=325] \arrow[l, bend left]
    \end{tikzcd}
    \\
    \makecell[l] {
        \text{An example of}
        \\
        \text{objects and morphisms}
    }
\]

The set of morphisms of a category \(C\) is denoted \(\text{hom}(C)\)
and the set of objects \(\text{ob}(C)\).

\subsection{Composition or Transitivity}

Composition is a property that says that if there is an arrow from
\(a\) to \(b\), and an arrow from \(b\) to \(c\), there must exist an arrow
from \(a\) to \(c\).

\begin{center}
    \begin{tikzcd}
        a \arrow[r, "f"]
        \arrow[rr, "f \circ g", bend left=49] & b
        \arrow[r, "g"] & c
    \end{tikzcd}
\end{center}

\subsection{Identity or Reflexivity}

For every object there is an identity arrow.

\begin{center}
    \begin{tikzcd}
        a \arrow["\text{id}_a"', loop, distance=2em, in=35, out=325]
    \end{tikzcd}
\end{center}

The composition of an arrow with an identity is the arrow itself

\begin{center}
    \begin{tikzcd}
        a \arrow[r, "f"] &
        b \arrow["\text{id}_b"', loop, distance=2em, in=35, out=325]
    \end{tikzcd}
\end{center}

\[
    f \circ \text{id}_b = f
\]

and also vice versa

\[
    \text{id}_b \circ f = f
\]

\subsection{Associativity}

Compositions have the associative property

\begin{center}
    \begin{tikzcd}
        a \arrow[r, "f"]
        \arrow[rr, "g \circ f", bend left, shift left=2]
        \arrow[rrr, "h \circ (g \circ f)", bend left=49, shift left=2]
        \arrow[rrr, "(h \circ g) \circ f", bend right=49, shift right=2] & b
        \arrow[r, "g"] \arrow[rr, "h \circ g", bend right, shift right=2] & c
        \arrow[r, "h"] & d
    \end{tikzcd}
\end{center}

\[
    h \circ (g \circ f) = (h \circ g) \circ f
\]

\pagebreak

\section{Homomorphisms}

A homomorphism is a map between two structures of the same type.

\subsection{Epimorphisms}

An epimorphism is a \textbf{surjective} morphism.

We can define surjectivity only in terms of morphisms.
\\
Consider a morphism \(f: a \rightarrow b\) which maps elements of \(a\) onto \(b\).
Let's also define the morphisms \(g_1\) and \(g_2\) which map elements from \(b\) to \(c\).
The domain of \(g_1\) and \(g_2\) is the codomain of \(f\). These two functions act
as \(f\) for object in the image of \(f\), but may map objects differently
for objects in the codomain of \(f\) but outside the image of \(f\).
If the morphism is surjective, hence if the codomain and the image of \(f\) are the same,
then \(g_1\) and \(g_2\) will always act as \(f\).

\begin{center}
    \begin{tikzcd}
        a \arrow[r, "f"] &
        b \arrow[r, "g_1", shift left]
        \arrow[r, "g_2"', shift right] & c
    \end{tikzcd}
\end{center}

formally,

\[
    \forall c\, \forall g_1, g_2 : b \rightarrow c, g_1 \circ f = g_2 \circ f \Rightarrow g_1 = g_2
\]

An epimorphism is labelled with \(\twoheadrightarrow\).

\subsection{Monomorphisms}

An epimorphism is an \textbf{injective} morphism.

\begin{center}
    \begin{tikzcd}
        c \arrow[r, "g_1", shift left]
        \arrow[r, "g_2"', shift right] &
        a \arrow[r, "f"] & b
    \end{tikzcd}
\end{center}

A morphism \(f: a \rightarrow b\) is a monomorphism if

\[
    \forall c\, \forall g_1, g_2: c \rightarrow a, 
    f \circ g_1 = f \circ g_2 \Rightarrow g_1 = g_2
\]

A monomorphism is labelled with \(\hookrightarrow\).

\subsection{Isomorphisms}

An isomorphism is a \textbf{bijective} morphism (mono and epic, but not every mono and epic
is an isomorphism).

A morphism \(f: a \rightarrow b\) is invertible if there
is a function \(g\) that goes from \(b\) to \(a\)

\[
    b:\quad b \rightarrow a
\]

such that

\begin{align*}
    g \circ f &= \text{id}_b
    \\
    f \circ g &= \text{id}_a
\end{align*}

\begin{center}
    \begin{tikzcd}
        a \arrow[r, "f", bend left] & b \arrow[l, "g", bend left]
    \end{tikzcd}
\end{center}

An isomorphism is labelled with \(\xrightarrow{\sim}\).

\pagebreak

\subsection{Homomorphism sets} % should this go here?

A hom-set is a set of all morphisms from an object to another
of a category \(C\).
It is denoted as
\begin{align*}
    &C(a, b) \\
    &\text{Hom}_C(a, b) \\
    &\text{Hom}(a, b)
\end{align*}

Note
\[
    \text{Hom}(a, b) \neq \text{Hom}(b, a)
\]

\section{Types of elements}

\subsection{Initial objects}

An initial object \(I\) is an object if
for every object \(X\) in a category \(C\)
there exist exactly one morphism \(I\to X\).
\[
    \forall X\in \text{ob}(C) \,\exists_{=1}f:I\to X
\]

\subsection{Terminal objects}

An terminal object \(T\) is an object if
for every object \(X\) in a category \(C\)
there exist exactly one morphism \(X\to T\).
\[
    \forall X\in \text{ob}(C) \,\exists_{=1}f:X\to T
\]

\subsection{Void}

The void element is equivalent to the logical \textbf{false}.
It is impossible to construct. Thus, functions that take void
as an argument are impossible to call.
It is impossible to map a set of the empty set, because
any object canot have an image.

In the category of sets, the singleton is the only terminal initial object,
as there exists a unique function (the empty function) from the empty set
into any other given set.

\subsection{Singleton}

A singleton is a set with one element (e.g. \(\{0\}\)) and
is equivalent to the logical \textbf{true}.
It can be constructed from nothing.

In the category of sets, any singleton is a terminal object,
as there exists a unique function (the constant function) from any given
set into the singleton.

% \subsection{Bool}

\pagebreak

\section{Types of categories}

\subsection{Thin categories}

A thin category is a category in which each pair of objects
has either \(0\) or \(1\) morphism.
Every hom-set of a thin category has either \(1\) or \(0\) elements.

\subsubsection{Order categories}

An order category is a thin category where morphisms represent relationships.

For example, here we have an equality relationship

\begin{center}
    \begin{tikzcd}
        a \arrow[r, "\leq"] & b
    \end{tikzcd}
\end{center}

The relationship must be reflexive since there must exist an identity morphsim.

\begin{center}
    \begin{tikzcd}
        a \arrow["\leq"', loop, distance=2em, in=215, out=145]
    \end{tikzcd}
\end{center}

It must also be composable and associative.
The relations may for example be preorders, partial orders
or total orders.

% Types of orders:
% https://en.wikipedia.org/wiki/Preorder#Formal_definition
% https://en.wikipedia.org/wiki/Partially_ordered_set
% https://en.wikipedia.org/wiki/Total_order

\subsection{Monoid}

A monoid is a category with a single object.
It is equivalent to a set closed under an associative binary operation. 

\subsection{Kleisli category}

% Given a category \(C\) the Kleisli category has an arrow
% from a to b (a and b are objects in C) which represent
% a morphism from a to (b, T)
% in the category C.

\subsection{Monad}

% A monad is this mapping from a to (b, T)

\subsection{Opposite Category}

Given a category \(C\) we can defined an opposite category \(\opp{C}\)
where the objects are the same and the morphisms are inverted.

\begin{minipage}{0.5\textwidth}
    \begin{center}
        \begin{tikzcd}
            a \arrow[d, "f"'] \arrow[rd, "g \circ f"] &   \\
            b \arrow[r, "g"']                         & c
        \end{tikzcd}
    \end{center}
\end{minipage}
\begin{minipage}{0.5\textwidth}
    \begin{center}
        \begin{tikzcd}
            a                &                                    \\
            b \arrow[u, "\opp{f}"] & c \arrow[l, "\opp{g}"] \arrow[lu, "\opp{f} \circ \opp{g} = \opp{(g \circ f)}"']
        \end{tikzcd}
    \end{center}
\end{minipage}

\pagebreak

\section{Universal Construction}

Universal construction is used to define objects in terms of their
relationships to other objects up to a unique isomorphism.

The definition starts by defining a universal property of the object.
At this point there may be more objects with this property and we need to rank
them such that the highest rank is the object we want.

\subsection{Example: Cartesian Product}

A cartesian product of two objects has the following
outgoing morphisms:
\begin{enumerate}
    \item \(p:a\times b \to a\), which returns the first value of the ordered pair
    \item \(q:a\times b \to b\), which returns the second value of the ordered pair
\end{enumerate}

In the following diagram \(c_1\) and \(c_2\) are the candidate objects
for the caridnal product.
We rank a candidate \(c_i\) higher than \(c_j\) if there is a morphism
\(m:c_i \to c_j\).

\begin{minipage}{0.5\textwidth}
    \adjustbox{scale=1.5,center}{%
    \begin{tikzcd}
        & c_2 \arrow[d, "m"] \arrow[rdd, "q_2", bend left] \arrow[ldd, "p_2"', bend right] &   \\
        & c_1 \arrow[ld, "p_1"] \arrow[rd, "p_2"']                                         &   \\
      a &                                                                                  & b
    \end{tikzcd}
    }
\end{minipage}
\begin{minipage}{0.5\textwidth}
    \begin{align*}
        p_1 \circ m &= p_2 \\
        q_1 \circ m &= q_2
    \end{align*}
\end{minipage}

Whenever \(m\) is \textit{flawed}, such as when it loses information
or does not preserve structure, we discard \(c_i\). \\
In conclusion, let \(c=a \times b\) be the actual cartesian product
with morphisms \(p\) and \(q\).
For any contender \(c'\) with morphisms \(p'\) and \(q'\),
there exist a unique morphism
\[
    m:c'\to c
\]
where
\begin{align*}
    p' \circ m &= p \\
    q' \circ m &= q
\end{align*}

\end{document}

% https://tikzcd.yichuanshen.de/
% https://youtu.be/Bsdl_NKbNnU?list=PLbgaMIhjbmEnaH_LTkxLI7FMa2HsnawM_&t=473