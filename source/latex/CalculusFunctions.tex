\documentclass[preview]{standalone}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{parskip}
\usepackage{fullpage}
\usepackage{hyperref}
\usepackage{stellar}
\usepackage{definitions}

\begin{document}

\id{functions}
\genpage

\section{Definition}

\begin{snippetdefinition}{function-definition}{Function}
    Let \(A\) and \(B\) be \set[sets].
    A \textit{function} from \(A\) to \(B\), denoted \(f\colon A\fromto B\),
    is a \binrelation \(f\) from \(A\) to \(B\) where
    \[
        \forall x \in A \exists_{=1} \, y \in B \suchthat (x,y) \in f
    \]
    The set \(A\) is called \textit{domain} and the set \(B\) is called \textit{codomain}.
\end{snippetdefinition}

\begin{snippet}{function-diagram-illustration}
\begin{center}
    \begin{tikzpicture}
        %sets A and B
        \draw (0,0) ellipse (1 and 2);
        \draw (5,0) ellipse (1 and 2);
        \node at (-1.5,2.3) {$f:A$};
        \node at (6,2.3) {$B$};
        \draw[->] (-0.8,2.3) -- (5.7,2.3);
        
        %set A
        \node at (0,-1.5) {$\bullet$};
        \node at (0,-1) {$\bullet$};
        \node at (0,-0.5) {$\bullet$};
        \node at (0,0) {$\bullet$};
        \node at (0,0.5) {$\bullet$};
        \node at (0,1) {$\bullet$};
        \node at (0,1.5) {$\bullet$};
        
        %set B
        \node at (5,-1.5) {$\bullet$};
        \node at (5,-1) {$\bullet$};
        \node at (5,-0.5) {$\bullet$};
        \node at (5,0) {$\bullet$};
        \node at (5,0.5) {$\bullet$};
        \node at (5,1) {$\bullet$};
        \node at (5,1.5) {$\bullet$};
        
        %arrows
        \draw[->] (0.2,-1.5) -- (4.8,-1);
        \draw[->] (0.2,-1) -- (4.8,-0.5);
        \draw[->] (0.2,-0.5) -- (4.8,0);
        \draw[->] (0.2,0) -- (4.8,-1.5);
        \draw[->] (0.2,0.5) -- (4.8,0.5);
        \draw[->] (0.2,1) -- (4.8,1.5);
        \draw[->] (0.2,1.5) -- (4.8,1.5);
    
        %spacer
        \node at (0,2.6) {\phantom{}};
        \node at (0,-2.2) {\phantom{}};
    \end{tikzpicture}
\end{center}
\end{snippet}

\plain{Every function has an arrow for each element in the domain.}

\begin{snippetdefinition}{function-image-definition}{Image}
    Let \(f\colon X\fromto Y\) be a \function.
    The \textit{image} of \(f\) is defined as
    \[ \text{Im}(f) = \{y \in Y \suchthat y=f(x), x \in X \} \]
\end{snippetdefinition}

\begin{snippetdefinition}{binary-operation-definition}{Binary operation}
    Let \(A\) be a \set.
    A \textit{binary operation} on \(A\)
    is a \function \(\circ\colon A \cartesianprod A \fromto A\).
\end{snippetdefinition}

\section{Properties}

\begin{snippetdefinition}{injectivity-definition}{Injectivity}
    A \function \(f \colon A\fromto B\) is \textit{injective} if
    \[
        \forall a,b \in A, f(a) = f(b) \implies a = b
    \]
\end{snippetdefinition}

\begin{snippetdefinition}{surjectivity-definition}{Surjectivity}
    A \function \(f \colon A\fromto B\) is \textit{surjective} if
    \[
        \forall b \in B \exists a \suchthat f(a)=b
    \]
\end{snippetdefinition}

\begin{snippetdefinition}{bijectivity-definition}{Bijectivity}
    A \function \(f \colon A\fromto B\) is \textit{bijective} if
    it has a one-to-one correspondence between each element of \(A\) and  \(B\).
\end{snippetdefinition}

\begin{snippetcorollary}{bijectivity-equiv-inj-and-surj}{Bijectivity properties}
    A \function \(f \colon A\fromto B\) is bijective \ifandonlyif it is both \injective and \surjective.
\end{snippetcorollary}

\begin{snippetdefinition}{function-composition-definition}{Function composition}
    Let \(\Phi \colon A \fromto B\) and \(\Psi \colon B \fromto C\) be \function[functions].
    The \textit{composition} of \(\Phi\) and \(\Psi\) is given by
    \[
        (\Phi \circ \Psi)(x) \triangleq \Psi(\Phi(x))
    \]
\end{snippetdefinition}

\subsection{Basic results}

\begin{snippetproposition}{injective-composition-is-injective}{Injective composition is injective}
    Let \(f\colon A \fromto B\) and \(g\colon B \fromto C\) be \function[functions] that are \injective.
    Then, the function \(g(f(x))\) is \injective.
\end{snippetproposition}

\begin{snippetproof}{injective-composition-is-injective-proof}{injective-composition-is-injective}{Injective composition is injective}
    Let \(a_1, a_2 \in A\) where \(a_1 \neq a_2\). We must show that \(g(f(a_1)) \neq g(f(a_2))\).
    Since \(f\) is \injective, we know that \(f(a_1) \neq f(a_2)\).
    Since \(g\) is \injective, we know that \(g(f(a_1)) \neq f(g(a_2))\).
\end{snippetproof}

\begin{snippetproposition}{surjective-composition-is-surjective}{Surjective composition is surjective}
    Let \(f\colon A \fromto B\) and \(g\colon B \fromto C\) be \function[functions] that are \surjective.
    Then, the function \(g(f(x))\) is \surjective.
\end{snippetproposition}

% TODO check these
\begin{snippetproof}{surjective-composition-is-surjective-proof}{surjective-composition-is-surjective}{Surjective composition is surjective}
    Let \(c \in C\), we must show that there exists at least one \(a\in A\) such that \(c=g(f(a))\).
    Since \(f\) is \surjective, there exists a \(a\in A\) such that \(c = g(b)\).
    Since \(g\) is \surjective, there exists an \(b\in B\) such that \(b = f(a)\).
    Thus, \(c = g(f(a))\).
\end{snippetproof}

\begin{snippetproposition}{bijective-composition-is-bijective}{Bijective composition is bijective}
    Let \(f\colon A \fromto B\) and \(g\colon B \fromto C\) be \function[functions] that are \bijective.
    Then, the function \(g(f(x))\) is \bijective.
\end{snippetproposition}

\begin{snippetproposition}{injective-composition-property}{}
    Let \(f\colon A \fromto B\) and \(g\colon B \fromto C\) be \function[functions]
    such that \(g(f)\) is \injective. Then, \(f\) is also \injective.
\end{snippetproposition}

%\begin{snippetproof}{injective-composition-property-proof}{injective-composition-property}{}
%    Supponiamo che \(g(f)\) sia iniettiva.
%    Dunque, per ogni \(a_1, a_2 \in A\) dove \(a_1 \neq a_2\), risulta che \(g(f(a_1)) \neq g(f(a_2))\).
%    Sicuramente la prima funzione non può fare convergere i due elementi, in quando non potrebbero uscire separati
%    dopo la seconda funzione.
%    In particolare, \(f(a_1) \neq f(a_2)\). Quindi, \(f\) è iniettiva.
%    ma non possiamo dire che g è iniettiva
%\end{snippetproof}

\begin{snippetproposition}{surjective-composition-property}{}
    Let \(f\colon A \fromto B\) and \(g\colon B \fromto C\) be \function[functions]
    such that \(g(f)\) is \injective. Then, \(g\) is also \surjective.
\end{snippetproposition}

%\begin{snippetproof}{surjective-composition-property-proof}{surjective-composition-property}{}
%    Supponiamo che \(g(f)\) sia suriettiva.
%    Dunque, per ogni \(c\in C\) esiste \(a\) tale che \(c=g(f(a))\).
%    In particolare, posto \(b=f(a) \in B\), abbiamo che \(g(b)=c\) cioè \(g\) è suriettiva.
%    ma non possiamo dire che f sia suriettiva
%\end{snippetproof}

\subsection{Invertibility}

\begin{snippetdefinition}{inverse-function-definition}{Inverse function}
    Let \(A\) and \(B\) be sets. A \function \(f\colon A \fromto B\) is \textit{invertible}
    if there exists another function \(f^{-1}\colon B \fromto A\), called the \textit{inverse function},
    such that
    \begin{itemize}
        \item \(\forall x \in A, f^{-1}(f(x)) = x\);
        \item \(\forall y \in B, f(f^{-1}(y)) = y\)
    \end{itemize}
\end{snippetdefinition}

\begin{snippettheorem}{invertible-function-bijective-theorem}{Invertibility \(\iff\) bijectivity}
    A \function is \snippetref[inverse-function-definition][invertible]
    \ifandonlyif it is \snippetref[bijectivity-definition][bijective].
\end{snippettheorem}

%\begin{snippetproof}{invertible-function-bijective-theorem-proof}{invertible-function-bijective-theorem}{Invertibility \(\iff\) bijectivity}
%    \iffproof{
%        Sia \(f\) invertibile. Allora sappiamo che \(f(f^{-1})\) è la funzione identità di \(A\) e \(f^{-1}(f)\)
%        è la funzione identità di \(B\).
%        Ora, l'identità di \(A\) è iniettiva (anche biettiva), dunque \(f\) è iniettiva
%        e l'identità di \(B\) è suriettiva (dalle due proposizioni di prima), dunque \(f\) è suriettiva.
%    }{
%        Sia \(f\) biettiva.
%        Dobbiamo costruire \(g \colon B \to A\) tale che \(f(g)\) è l'identità di \(A\) e \(f(g)\) è l'identità di \(B\).
%        Sappiamo che per ogni \(b\in B\) esiste un unico \(a\in A\) tale che
%        \(f(a) = b\). Poniamo allora \(g(b)=a\). Se \(b \in B\), allora \(f(g(b)) = f(a) = b\).
%        Se \(a\in A\), abbiamo che \(g(f(a))\) è per definizione di \(g\) l'unico elemento \(a'\in A\)
%        tale che  \(f(a') = f(a)\). Siccome \(f\) è iniettiva, \(a'=a\), e quindi \(g(f(a)) = a\)
%        e quindi \(g=f^{-1}\).
%    }
%\end{snippetproof}

\begin{snippetproposition}{inverse-function-is-unique}{Inverse function is unique}
    Let \(f\colon A \fromto B\) be a \function that has an inverse \(f^\inversefunction\).
    Then, \(f^\inversefunction\) is unique.
\end{snippetproposition}

\begin{snippetproof}{inverse-function-is-unique-proof}{inverse-function-is-unique}{Inverse function is unique}
    Let \(h \colon B \fromto A\) such that \(h(f(a)) = a\) and \(f(h(b)) = b\).
    TODO
\end{snippetproof}

\subsection{Periodic functions}

\begin{snippetdefinition}{periodic-function-definition}{Periodic Function}
    A \function \(f\) is periodic with a period \(T\) if
    \[
        f(x) = f(x + kT), \quad k \in \naturalnumbers
    \]
\end{snippetdefinition}

\begin{snippetdefinition}{odd-function-definition}{Odd Function}
    A \function \(f\) is \textit{odd} if
    \[
        f(-x) = -f(x)
    \]
\end{snippetdefinition}

\begin{snippetdefinition}{even-function-definition}{Even Function}
    A \function \(f\) is even if
    \[
        f(-x) = f(x)
    \]
\end{snippetdefinition}

\end{document}