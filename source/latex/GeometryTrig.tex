\documentclass[preview]{standalone}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{stellar}
\usepackage{definitions}
\usepackage{bettelini}

\begin{document}

\id{trigonometry}
\genpage

\section{Trigonometric circle}

\begin{snippet}{trigonometric-circle-illustration}
    \begin{center}
        \begin{tikzpicture}[scale=3.75]
            \definecolor{darkgreen}{rgb}{0.0, 0.7, 0.0}
            % Draw the x and y axes
            \draw[thick, ->] (-1.5,0) -- (1.5,0) node[right] {$x$};
            \draw[thick, ->] (0,-1.5) -- (0,1.5) node[above] {$y$};
        
            % Draw the unit circle
            \draw (0,0) circle (1);
        
            % Draw the angle theta
            \draw[thick, blue] (0,0) -- (0.866,0.5) node[right] {$P(\cos\theta,\sin\theta)$};
            \draw[dashed, blue] (0,0) -- (0.866,-0.5) node[right] {$P'(\cos\theta,-\sin\theta)$};
        
            % Draw dashed lines to indicate the projections on the axes
            \draw[dashed] (0.866,-0.5) -- (0.866,0.5) -- (0,0.5);
        
            % Label the angle theta
            \draw (0.3,0) arc (0:30:0.3);
            \node at (0.35,0.10) {$\theta$};
        
            % Label the origin
            \node at (-0.06, -0.06) {$O$};
        
            % Draw the projections on the axes
            \draw[thick, red] (0,0) -- (0.866, 0) node[midway, below] {$\cos \theta$};
            \draw[thick, darkgreen] (0.866,0) -- (0.866, 0.5) node[midway, left] {$\sin \theta$};
        
            % Additional labels and lines
            %\node at (-1.075, 0.05) {-1};
            \node at (-0.1, 1.1) {\(U_2\)};
            \node at (1.075, 0.05) {\(U_1\)};
            %\node at (-0.05, -1.1) {\(U_2\)};
        
            % Labels for each quadrant
            \node at (1, 1) {I};
            \node at (-1, 1) {II};
            \node at (-1, -1) {III};
            \node at (1, -1) {IV};
    
            %others
            \draw (0.866,0) rectangle (0.816,0.05);
        \end{tikzpicture}
    \end{center}
\end{snippet}

\begin{snippetdefinition}{sine-definition}{Sine function}
    \todo
\end{snippetdefinition}

\begin{snippetdefinition}{cosine-definition}{Cosine function}
    \todo
\end{snippetdefinition}

\begin{snippetdefinition}{tangent-definition}{Tangent function}
    \todo
\end{snippetdefinition}

\begin{snippet}{common-trig-angles-table}
    \begin{center}
        \bgroup{}
        \def\arraystretch{1.25}
        \begin{tabular}{|c|c|c|c|}
            \hline
            \(\theta\) & \(\sin\theta\) & \(\cos\theta\) & \(\tan\theta\) \\
            \hline
            \(0\) & \(0\) & \(1\) & \(0\) \\
            \hline
            \(\frac{\picircle}{2}\) & \(1\) & \(0\) & \(-\) \\
            \hline
            \(\frac{3\picircle}{2}\) & \(-1\) & \(0\) & \(-\) \\
            \hline
            \(\frac{\picircle}{4}\) & \(\frac{\sqrt{2}}{2}\) & \(\frac{\sqrt{2}}{2}\) & \(1\) \\
            \hline
            \(\frac{\picircle}{3}\) & \(\frac{\sqrt{3}}{2}\) & \(\frac{1}{2}\) & \(\sqrt{3}\) \\
            \hline
            \(\frac{\picircle}{6}\) & \(\frac{1}{2}\) & \(\frac{\sqrt{3}}{2}\) & \(\frac{\sqrt{3}}{3}\) \\
            \hline
        \end{tabular}
        \egroup{}
    \end{center}
    \phantom{}
\end{snippet}

\section{Laws}

\begin{snippettheorem}{law-of-sines}{Law of sines}
    Given a triangle with sides \(a\), \(b\) and \(c\) and their respective opposite angles
    \(\alpha\), \(\beta\) and \(\gamma\)
    \[
        \frac{\sin(\alpha)}{a} =
        \frac{\sin(\beta)}{b} =
        \frac{\sin(\gamma)}{c}
    \]
\end{snippettheorem}

\begin{snippetproof}{law-of-times-proof}{law-of-sines}{Law of sines}
    Tra che circumference that inscribes the triangle
    
    \def\ax{0} % cos(pi/2)
    \def\ay{1} % sin(pi/2)

    \def\bx{-0.8090} % cos(4*pi/5)
    \def\by{0.58778} % sin(4*pi/5)
    
    \def\cx{-0.8090} % cos(6*pi/5)
    \def\cy{-0.5877} % sin(6*pi/5)
    
    \def\aPx{0.80901} % cos(9*pi/5)
    \def\aPy{-0.58778} % sin(9*pi/5)

    \begin{center}
        \begin{tikzpicture}[scale=2.5]
            \node[above] at (0, 0) {$O$};
            
            \draw (0,0) circle (1);
            \draw[thick, fill] (0,0) circle (0.01);

            \draw[thick] (\ax,\ay) -- (\bx,\by); % AB
            \draw[thick] (\bx,\by) -- (\cx,\cy); % BC
            \draw[thick] (\cx,\cy) -- (\ax,\ay); % CA
            \draw[thick] (\bx,\by) -- (\aPx,\aPy); % BA'
            \draw[thick] (\cx,\cy) -- (\aPx,\aPy); % CA'
    
            \node[above] at (\ax,\ay) {$A$};
            \node[left] at (\bx,\by) {$B$};
            \node[left] at (\cx,\cy) {$C$};
            \node[below] at (\aPx,\aPy) {$A'$};
    
            % square angle
            \draw[thick] (\cx,\cy) rectangle ++(0.1, 0.1);

            % other angles
            \draw (\aPx-0.2, \aPy) arc (180:142.5:0.2);
            \node at (\aPx-0.3, \aPy+0.1) {$\alpha$};
        \end{tikzpicture}
    \end{center}
    
    We trace the diameter passing through \(B\).
    Let \(A'\) be the extreme of this diameter which is not \(B\).
    Consider the triangle \(A'BC\). The side \(A'B\) is a diameter, and thus of length \(d\).
    The angle in \(A'\) is an angle to the circumference which insists on the same arc of \(\hat{BAC}\).
    Thus, the angle \(\hat{BAC} = \alpha\). Furthermore, \(A'BC\) is square in \(C\).
    This means that \(\overline{BC} = \overline{BA'}\sin\alpha\) and thus \(a = d\sin\alpha\)
    from which \(\frac{\alpha}{\sin\alpha} = d\). The other ratios are analogous.
\end{snippetproof}

\begin{snippettheorem}{law-of-cosines}{Law of cosines}
    Given a triangle with sides \(a\), \(b\) and \(c\)
    \[
        c^2 = a^2 + b^2 - 2ab\cos\gamma
    \]
    where \(\gamma\) is the angle between \(a\) and \(b\) (opposite of \(c\)).
\end{snippettheorem}

\section{Trigonometric Identities}

\begin{snippettheorem}{pythagorean-identity-theorem}{Pythagorean identity}
    For any \(\theta \in \realnumbers\),
    \[
        \sin^2\theta + \cos^2\theta = 1
    \]
\end{snippettheorem}

\begin{snippetproposition}{double-angle-sine}{Double-angle sine}
    Let \(\theta \in \realnumbers\).
    \[ \sin(2\theta) = 2 \sin\theta\cos\theta \]
\end{snippetproposition}

\begin{snippetproposition}{sine-angle-addition}{Sine angle addition}
    Let \(\alpha,\beta \in \realnumbers\).
    \[ \sin(\alpha \pm \beta) = \sin\alpha\cos\beta \pm \cos\alpha\sin\beta \]
\end{snippetproposition}

\begin{snippetproposition}{cosine-angle-addition}{Cosine angle addition}
    Let \(\alpha,\beta \in \realnumbers\).
    \[ \cos(\alpha \pm \beta) = \cos\alpha\cos\beta \mp \sin\alpha\cos\beta \]
\end{snippetproposition}

\begin{snippetproposition}{sine-and-cosine-shift-1}{Sine and cosine shift 1}
    Let \(\theta\in\realnumbers\). Then,
    \[
        \cos\theta = \sin\left(\frac{\picircle}{2} - \theta\right)
    \]
    and
    \[
        \sin\theta = \cos\left(\frac{\picircle}{2} - \theta\right)
    \]
\end{snippetproposition}

\begin{snippetproposition}{sine-and-cosine-shift-2}{Sine and cosine shift 2}
    Let \(\theta\in\realnumbers\). Then,
    \[
        \sin(\theta + \picircle) = -\sin\theta
    \]
    and
    \[
        \cos(\theta + \picircle) = -\cos\theta
    \]
\end{snippetproposition}

% TODO: tangent on the illustration
% TODOURGENT: 2sin a cos a = sin(2a)

\end{document}