\documentclass[preview]{standalone}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{stellar}
\usepackage{definitions}

\begin{document}

\id{groups-direct-product}
\genpage

\section{External direct product}

\plain{The goal of the following definition is to construct a single group from various groups.}

\begin{snippetdefinition}{group-external-direct-product-definition}{External direct product of groups}
    Let \((G_1, \circ_1), (G_2, \circ_2), \cdots, (G_n, \circ_n)\)
    be \group[groups].
    Then, their \emph{external direct product} is defined as the \group
    \((G, \circ)\) where
    \[
        G = G_1 \cartesianprod G_2 \cartesianprod \cdots \cartesianprod G_n
    \]
    and
    \[
        (x_1, x_2, \cdots, x_n) \circ 
        (y_1, y_2, \cdots, y_n) \triangleq
        (x_1 \circ_1 y_1, x_2 \circ_2 y_2, \cdots, x_n \circ_n y_n)
    \]
\end{snippetdefinition}

\begin{snippettheorem}{external-direct-product-is-group-theorem}{External direct product is group}
    The external direct product of the \group[groups] \(G_1, G_2, \cdots, G_n\),
    is a \group \(G\). Furthermore, for \(1 \leq i \in \naturalnumbers \leq n\), the subset
    \[
        H_i = \left\{
            \left(
                1_{G_1}, 1_{G_2}, \cdots,
                x_i, 1_{G_{i+1}}, \cdots, 1_{G_n}
            \right) \,|\, x_i \in G_i
        \right\}
    \]
    is a \normalsubgrptext \subgroup of \(G\) where \(G \groupisomorphic G_i\) and:
    %\begin{enumerate}
    %    \item \(G = H_1H_2 \cdots H_n\);
    %    \item \(H_i \cap H_1H_2\cdots H_{i-1}H_{i+1}\cdots H_n = 1\) for \(1 \leq i \in \naturalnumbers \leq n\).
    %\end{enumerate}
    where
    \begin{enumerate}
        \item \[G = \prod_{i=1}^n H_i \]
        \item \[
            H_i \cap \prod_{\substack{k=1\\k \neq i}}^n H_k = 1, \quad 1 \leq i \in \naturalnumbers \leq n
        \]
    \end{enumerate}
\end{snippettheorem}

\begin{snippetproof}{external-direct-product-is-group-theorem-proof}{external-direct-product-is-group-theorem}{External direct product is group}
    We first show that \(G\) is a \group:
    \begin{enumerate}
        \item \emph{associativity}: trivial;
        \item \emph{identity element}: \((1_{G_1}, 1_{G_2}, \cdots, 1_{G_n})\);
        \item \emph{inverse element}: tuple degli inversi.
    \end{enumerate}
    Definiamo \(\varphi_i \colon G_1 \to G\) ponendo
    \[
        x\varphi_i \triangleq
        (1_{G_1}, 1_{G_2}, \cdots, x, 1_{G_{i+1}}, \cdots, 1_{G_n})
    \]
    L'immaigne è \(H_i\) e si verifica immediatamente che \(\varphi\)
    realizza un isomorfismo tra \(G_i\) e \(H_i\).
    Mostriamo che \(H_1 \unlhd G\). Sia
    \[
        (1_{G_1}, 1_{G_2}, \cdots, x, 1_{G_{i+1}}, \cdots, 1_{G_n}) \in H_i
    \]
    e \((g_1, g_2, \cdots, g_n) \in G\).
    Allora,
    \begin{align*}
        &\phantom{=}
        {(g_1, g_2, \cdots, g_n)}^{-1} (1_{G_1}, 1_{G_2}, \cdots, x, 1_{G_{i+1}}, \cdots, 1_{G_n})
        (g_1, g_2, \cdots, g_n) \\
        &= (1, 1, \cdots, g_i^{-1} g_i, 1, \cdots, 1) \in H_i
    \end{align*}
    Mostriamo che \(G = H_1 H_2 \cdots H_n\):
    se \(g = (g_1, g_2, \cdots, g_n) \in G\) allora
    \begin{align*}
        g = (g_1, 1, 1, \cdots, 1) (1, g_2, 1, \cdots, 1) \cdots (1,1,\cdots, g_n)
    \end{align*}
    Notiamo anche che questa scrittura è unica.
    Mstriamo che \(H_1 \cap H_1H_2\cdots H_{i-1} H_{i+1} \cdots Hn = 1\)
    Senza perdita di generalità consideriamo \(i=1\).
    Abbiamo \(g = H_1 \cap H_2 H_3 \cdots H_n\) e
    \[
        g = (1, g_2, 1, \cdots, 1) \in H_1
    \]
    e
    \[
        g = (1, g_2, 1, \cdots, 1)(1,1,g_3, \cdots, 1) \cdots (1,1,\cdots 1, g_n) \in H_2H_3\cdots H_n
    \]
    Dunque
    \((g_1, 1, 1, \cdots, 1) = (1, g_2, g_3, \cdots, g_n)\)
    da cui segue \(g_1 = 1, g_2 = 1, \cdots, g_n = 1\), cioè \(g = (1,1,\cdots, 1) = 1_G\).
\end{snippetproof}

\section{Internal direct product}

\end{document}