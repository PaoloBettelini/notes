\documentclass[preview]{standalone}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{stellar}
\usepackage{definitions}
\usepackage{bettelini}

\begin{document}

\id{well-known-integrals}
\genpage

\section{Well-known integrals}

\begin{snippetproposition}{integral-of-natural-logarithm}{Integral of natural logarithm}
    \[
        \integral[\ln|x|][x] = x\ln |x| - x + C
    \]
\end{snippetproposition}

\begin{snippetproof}{integral-of-natural-logarithm-proof}{integral-of-natural-logarithm}{Integral of natural logarithm}
    We use integration by parts:
    \begin{align*}
        \integral[\ln|x|][x] &= \integral[\ln|x| \cdot 1][x] \\
        &= x\ln|x| - \integral[x\cdot \frac{1}{x}][x] \\
        &= x\ln |x| - x + C
    \end{align*}
\end{snippetproof}

\begin{snippetproposition}{integral-of-tangent}{Integral of tangent}
    \[
        \integral[\tan(x)][x] = - \ln |\cos(x)| + C
    \]
\end{snippetproposition}

\begin{snippetproof}{integral-of-tangent-proof}{integral-of-tangent}{Integral of tangent}
    We substitute \(u = \cos x\), meaning \(du = -\sin x\,dx\)
    \begin{align*}
        \integral[\tan(x)][x] &= - \int \frac{du}{y} \\
        &= - \ln|u| + C \\
        &= - \ln|\cos(x)| + C
    \end{align*}
\end{snippetproof}

\begin{snippetproposition}{integral-of-arctan}{Integral of arctan}
    \[
        \integral[\arctan(x)][x] = \arctan(x) - \frac{1}{2} \ln(1 + x^2) + C
    \]
\end{snippetproposition}

\begin{snippetproof}{integral-of-arctan-proof}{integral-of-arctan}{Integral of arctan}
    We integrate by parts
    \begin{align*}
        \integral[\arctan(x) \cdot 1][x] &= x\arctan(x) - \integral[\frac{x}{1 + x^2}][x]
    \end{align*}
    We substitute \(u = 1 + x^2\), meaning \(du = 2x\,dx\)
    \begin{align*}
        \integral[\arctan(x)][x] &= x\arctan(x) - \frac{1}{2}\integral[\frac{du}{u}][u] \\
        &= x\arctan(x) - \frac{1}{2} \ln|u| + C \\
        &= x\arctan(x) - \frac{1}{2} \ln(1 + x^2) + C
    \end{align*}
\end{snippetproof}

\section{Less known integrals}

\begin{snippetproposition}{iterated-integral-1}{Iterated integral}
    Let
    \[
        I_n = \int \frac{dx}{{(1+x^2)}^n}
    \]
    Then,
    \[
        I_n = \frac{2n-3}{2(n-1)}I_{n-1} + \frac{x}{2(n-1){(x^2 + 1)}^{n-1}}
    \]
    for \(n>1\) where \(I_1 = \arctan(x)\).
\end{snippetproposition}

\begin{snippetproof}{iterated-integral-1-proof}{iterated-integral-1}{Iterated integral}
    We integrate by parts
    \begin{align*}
        I_{n-1} &= \integral[\frac{1}{{(1 + x^2)}^{n-1}} \cdot 1][x] \\
        &= \frac{x}{{(1+x^2)}^{n-1}} + 2(n-1) \integral[\frac{x + 1 - 1}{{(1 + x^2)}^n}][x] \\
        &= \frac{x}{{(1+x^2)}^{n-1}} + 2(n-1) \integral[\frac{1}{{(1 + x^2)}^{n-1}}][x]
        - 2(n-1) \integral[\frac{1}{{(1 + x^2)}^n}][x]
    \end{align*}
    The last term is precisely the integral we are looking for, thus
    \[
        2(n-1) I_n = \frac{x}{{(1 + x^2)}^{n-1}} + (2n-3)I_{n-1}
    \]
\end{snippetproof}

\end{document}